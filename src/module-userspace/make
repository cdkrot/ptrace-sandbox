#!/usr/bin/make -f

# < Configuration >
CC=gcc -Wall -Wextra -std=gnu11
LD=gcc

all: bin/module-userspace/fast_memdetect bin/module-userspace/smdt-malloc bin/module-userspace/smdt-malloc32

help:
	@echo "Do not call this make directly."
	@echo "Use ./build in project root"

.PHONY: all help

bin/module-userspace/fast_memdetect: src/module-userspace/fast_memdetect.c
	${CC} src/module-userspace/fast_memdetect.c -o bin/module-userspace/fast_memdetect

bin/module-userspace/smdt-malloc: src/module-userspace/smdt-malloc.c
	${CC} src/module-userspace/smdt-malloc.c -o bin/module-userspace/smdt-malloc

bin/module-userspace/smdt-malloc32: src/module-userspace/smdt-malloc.c
	${CC} src/module-userspace/smdt-malloc.c -o bin/module-userspace/smdt-malloc32 -m32


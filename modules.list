{
    "clean": {
        "depend": ["---clean"],
        "build": [
            "rm -rf bin obj src/gen",
            "./src/module/make clean"
        ],
        "description": "Cleans build results"
    },
    "all": {
        "depend": ["demos", "gen", "main", "utils", "module"],
        "build": [],
        "description": "Build everything"
    },
    "demos": {
        "depend": [],
        "build": [
            "mkdir -p bin/demos",
            "./src/demos/make"
        ],
        "description": "Build demos to test detector on",
        "build_if": "! ./src/demos/make -q"
    },
    "gen": {
        "depend": [],
        "build": [
            "./src/gen/make"
        ],
        "description": "Build generated code",
        "build_if": "./src/gen-scelet/copy_myself.sh && ! ./src/gen/make -q"
    },
    "utils": {
        "depend": [],
        "build": [
            "mkdir -p obj/utils",
            "./src/utils/make"
        ],
        "description": "Different utilities",
        "build_if": "! ./src/utils/make -q"
    },
    "main": {
        "depend": ["utils", "gen"],
        "build": [
            "mkdir -p obj/main bin/main",
            "./src/main/make"
        ],
        "description": "Build main (ptrace) stuff",
        "build_if": "! ./src/main/make -q"
    },
    "module": {
        "depend": [],
        "build": [
            "mkdir -p bin/module",
            "./src/module/make"
        ],
        "description": "Build sandboxer.ko kernel module",
        "build_if": "! ./src/module/make -q"
    }
}
